# rest-mindspace-blog


# 🌟 **Место для ваших мыслей** 🌟

Проект для ведения блога, реализованный на Go с использованием PostgreSQL. Предназначен для создания, хранения и отображения статей с поддержкой Markdown-разметки, пагинации и аутентификации. Включает панель администратора и удобный интерфейс для пользователей.

---

## 📄 **Содержание**

- [Описание](#описание)
- [Особенности](#особенности)
- [Установка](#установка)
- [Структура проекта](#структура-проекта)
- [API](#api)
- [Технологии](#технологии)

---

## 📝 **Описание**

**Место для ваших мыслей** — это веб-приложение, которое позволяет пользователям создавать и читать статьи блога. Администраторы могут публиковать новые статьи через защищенную панель администратора. Статьи поддерживают Markdown-разметку, что делает создание контента более гибким и удобным.

---

## 🔑 **Особенности**

- **Пагинация**: 3 статьи на странице для удобства просмотра.
- **Поддержка Markdown**: пишите статьи с использованием разметки Markdown.
- **Панель администратора**: защищённый доступ для администрирования статей с использованием JWT и пароля.
- **База данных PostgreSQL**: для хранения всех данных.
- **Простой API**: для работы с новостями и отдельными статьями.

---

## ⚡ **Установка**

1. **Клонируйте репозиторий**:

    ```bash
    git clone https://github.com/aAmer0neee/rest-mindspace-blog.git
    cd rest-mindspace-blog
    ```
2. **Настройте config.yaml**:
    Для конфигурации сервера и подключения к бд
    Есть готовый пример, который можно редактировать 

3. **Настройте .env**:
    Для конфигурации Postgres контейнера
    Так же есть пример
    
4. **Запустите проект**:

    ```bash
    docker-compose up --build
    ```

    Проект будет доступен по адресу `http://localhost:8888`.

---

## 📂 **Структура проекта**


```plaintext
├── README.md              # 📚 Документация проекта
├── cmd
│   └── main.go            # 🚀 Точка входа в приложение
├── config.yaml            # ⚙️ Конфигурация приложения
├── docker-compose.yaml    # 🐳 Настройки для запуска через Docker Compose
├── Dockerfile             # 🏗️ Инструкция для сборки контейнера
├── go.mod                 # 📦 Зависимости Go
├── go.sum                 # 🔐 Проверка целостности зависимостей
├── internal
│   ├── auth
│   │   └── jwt.go        # 🔑 Логика аутентификации с использованием JWT
│   ├── config
│   │   └── config.go     # 📜 Чтение конфигурации
│   ├── domain
│   │   └── entity.go     # 🏢 Определение сущностей
│   ├── handlers
│   │   ├── api_config.go # 🛠️ Конфигурация API
│   │   ├── handlers.go   # 🔧 HTTP обработчики
│   │   └── middleware.go # 🔄 Средства для промежуточной обработки запросов
│   ├── logger
│   │   └── logger.go     # 📝 Логирование
│   ├── logo
│   │   └── logo.go       # 🎨 Генерация логотипа
│   ├── repository
│   │   ├── models.go     # 📊 Модели данных для работы с БД
│   │   └── repository.go # 🗃️ Репозиторий для работы с данными
│   └── service
│       ├── service.go    # ⚡ Основная логика сервиса
│       └── service_helpers.go # 🧰 Вспомогательные функции
├── static
│   ├── css
│   │   ├── article.css   # 📝 Стили для отображения статей
│   │   ├── auth.css      # 🔐 Стили для страницы авторизации
│   │   ├── feed.css      # 📰 Стили для ленты новостей
│   │   └── post_form.css # 📝 Стили для формы создания поста
│   ├── images            # 🖼️ Изображения для проекта
│   └── js
│       ├── auth.js       # 🔑 Скрипты для авторизации
│       ├── feed.js       # 📰 Скрипты для ленты новостей
│       ├── post_form.js  # 📝 Скрипты для формы создания поста
│       └── register.js   # 📝 Скрипты для страницы регистрации
└── templates
    ├── article.html      # 📑 Шаблон для отображения статьи
    ├── auth.html         # 🔐 Шаблон страницы авторизации
    ├── feed.html         # 📰 Шаблон для ленты новостей
    ├── post_form.html    # 📝 Шаблон формы создания поста
    └── register.html     # 📝 Шаблон страницы регистрации

```
---

## 🚀 **API**

### 🌐 **Глобальные Middleware**

- **AssignId()** — Присваивает уникальный идентификатор каждому запросу.
- **RequestLimiter()** — Ограничивает количество запросов, предотвращая чрезмерную нагрузку на сервер.

### 🔒 **Группа: `/admin`**

#### 🖥️ **Точка входа для администратора**

- `GET /admin`
  - **Описание**: Страница для создания новой статьи.
  - **Ответ**: Отправляет HTML-шаблон `post_form.html`.

- `POST /admin`
  - **Описание**: Обработчик для публикации новой статьи.
  - **Ответ**: В случае успеха — создание статьи. В случае ошибки — возврат ошибки.

*Все эндпоинты в группе `/admin` защищены JWT аутентификацией.*

---

### 🔑 **Группа: `/auth`**

#### 🔐 **Аутентификация и регистрация**

- `GET /auth`
  - **Описание**: Страница авторизации.
  - **Ответ**: Отправляет HTML-шаблон `auth.html`.

- `POST /auth`
  - **Описание**: Обработчик для аутентификации пользователей.
  - **Ответ**: Возвращает JWT токен в случае успешной аутентификации, иначе — ошибку.

- `GET /auth/register`
  - **Описание**: Страница регистрации нового пользователя.
  - **Ответ**: Отправляет HTML-шаблон `register.html`.

- `POST /auth/register`
  - **Описание**: Обработчик для регистрации нового пользователя.
  - **Ответ**: В случае успешной регистрации — создание пользователя. В случае ошибки — возврат ошибки.

---

### 📜 **Группа: `/` (Основной Feed)**

#### 📰 **Лента новостей и статьи**

- `GET /`
  - **Описание**: Страница ленты новостей.
  - **Ответ**: Отправляет HTML-шаблон `feed.html`.

- `GET /data`
  - **Описание**: Получение данных для ленты новостей.
  - **Ответ**: Возвращает список статей.

- `GET /article`
  - **Описание**: Получение конкретной статьи по её ID.
  - **Ответ**: Отправляет HTML-шаблон статьи.

---

## 🛠️ **Технологии**

### **Backend**
- **Go (Golang)** — Язык для сервера.
- **Gin** — Фреймворк для быстрой разработки API.
- **JWT** — Авторизация с токенами.
- **Gorm** — Работа с БД через ORM.
- **Docker** — Контейнеризация приложения.
- **Docker Compose** — Удобство работы с несколькими контейнерами.

### **Frontend**
- **HTML/CSS** — Основные технологии для веб-страниц.
- **JavaScript** — Логика на клиенте (форма, лента новостей и т.д.).

### **Инструменты**
- **Git** — Для контроля версий.
- **GitHub** — Хостинг репозитория.
- **Postman** — Тестирование API.

### **База данных**
- **PostgreSQL** — Для хранения данных.

### **Будущие улучшения**
- Редактирование/Удаление статей,Кэширование, тесты и CI/CD.
